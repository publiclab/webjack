<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">                                                                                         
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta content="text/html;charset=UTF-8" http-equiv="Content-Type"/>
  <title>WebJack</title>

  <!-- bower:js -->
  <script src="../bower_components/webrtc-adapter/adapter.js"></script>
  <script src="../bower_components/jquery/dist/jquery.js"></script>
  <!-- endbower -->
  <!-- <script src="../node_modules/jquery/dist/jquery.min.js"></script> -->
  <script src="../dist/webjack.js" type="text/javascript"></script>
  <link href="examples.css" rel="stylesheet">

</head>
<body>
  <h1>WebJack Demo</h1>
  <a href="https://github.com/publiclab/webjack">WebJack</a> is a JavaScript library that uses an audio modem to communicate with an Arduino ÂµC via headphone jack. No need to install anything.

  <h2>Send a command</h2>
  <textarea class="webjack" placeholder="E.g. enter 'help'"></textarea>
  <button class="send">Send</button>

  <h3>Received data:</h3>
  <div class="webjack-log">></div>

  <script>

    var connection;

    jQuery(document).ready(function($) {

      connection = new WebJack.Connection({baud: 1225});

      connection.get(function(data) {
        var log = $('.webjack-log');
        log.append(data);
        log.append('<br> >');
        console.log('Arduino to WebJack: ' + data);
      });

      $('.send').click(function () {
        var text = $('.webjack').val();
        connection.send(text);
        console.log('WebJack to Arduino: ' + text);
      });

    });

  </script>

</body>
</html>
